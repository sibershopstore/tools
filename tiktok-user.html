<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TikTok Finder â€“ Siber Shop Store</title>
  <style>
    body { font-family: Arial, sans-serif; background:#0d1628; color:#fff; margin:0; padding:20px; }
    .container { max-width:600px; margin:auto; background:#13203a; padding:20px; border-radius:12px; }
    h2 { text-align:center; }
    label { font-weight:bold; }
    input { width:100%; padding:10px; border-radius:6px; border:none; margin:5px 0 15px; }
    button { width:100%; padding:12px; background:#3b82f6; color:#fff; border:none; border-radius:8px; cursor:pointer; font-size:16px; }
    button:hover { background:#2563eb; }
    .result-box { background:#0f1b30; padding:15px; border-radius:8px; margin-top:20px; }
    .item { margin-bottom:10px; }
    .copy-btn { background:#444; margin-left:10px; padding:3px 6px; border-radius:5px; cursor:pointer; font-size:12px; }
  </style>
</head>
<body>
<div class="container">
  <h2>TikTok Finder â€“ Siber Shop Store</h2>
  <label>Masukkan Username TikTok:</label>
  <input type="text" id="username" placeholder="misal: sibershopstore" />
  <button onclick="findUser()">Cari Data TikTok</button>

  <div id="result"></div>
</div>

<script>
function copyText(text) {
   navigator.clipboard.writeText(text);
}

async function findUser() {
  const username = document.getElementById("username").value.trim();
  const resultBox = document.getElementById("result");
  resultBox.innerHTML = "Sedang memproses...";

  try {
    const proxy = "https://corsproxy.io/?";
    const url = `https://www.tiktok.com/@${username}`;
    const response = await fetch(proxy + encodeURIComponent(url));
    const html = await response.text();

    const data = {
      userId: html.match(/"userId":"(.*?)"/)?.[1] || "Tidak ditemukan",
      secUid: html.match(/"secUid":"(.*?)"/)?.[1] || "Tidak ditemukan",
      created: html.match(/"createTime":"(.*?)"/)?.[1] || "Tidak ditemukan",
      nicknameModify: html.match(/"nickNameModifyTime":(.*?),/)?.[1] || "Tidak ditemukan",
      usernameModify: html.match(/"uniqueIdModifyTime":(.*?),/)?.[1] || "Tidak ditemukan",
      cache: "MISS",
      updated: new Date().toLocaleString("id-ID")
    };

    const createdDate = data.created !== "Tidak ditemukan"
      ? new Date(data.created * 1000).toLocaleString("id-ID")
      : "Tidak ditemukan";

    const nickDate = data.nicknameModify !== "Tidak ditemukan"
      ? new Date(data.nicknameModify * 1000).toLocaleString("id-ID")
      : "N/A";

    const userDate = data.usernameModify !== "Tidak ditemukan"
      ? new Date(data.usernameModify * 1000).toLocaleString("id-ID")
      : "N/A";

    resultBox.innerHTML = `
      <div class='result-box'>
        <div class='item'><strong>User ID:</strong> ${data.userId} <span class='copy-btn' onclick="copyText('${data.userId}')">ðŸ“‹</span></div>
        <div class='item'><strong>SecUID:</strong> ${data.secUid} <span class='copy-btn' onclick="copyText('${data.secUid}')">ðŸ“‹</span></div>
        <div class='item'><strong>Account Created:</strong> ${createdDate}</div>
        <div class='item'><strong>Nickname Last Modified:</strong> ${nickDate}</div>
        <div class='item'><strong>Username Last Modified:</strong> ${userDate}</div>
        <div class='item'><strong>Cache Status:</strong> MISS</div>
        <div class='item'><strong>Last Updated:</strong> ${data.updated}</div>
      </div>
    `;

  } catch (e) {
    resultBox.innerHTML = "Gagal mengambil data. Username mungkin salah atau TikTok memblokir akses scraping.";
  }
}
</script>
</body>
</html>

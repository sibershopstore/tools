<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Hubungi Kami - Siber Shop (AES decrypt passphrase kosong)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html, body {
      height: 100%; margin: 0; padding: 0;
      font-family: Arial, sans-serif;
      background-color: #f8f9fa;
      display: flex; align-items: center; justify-content: center;
    }
    #loading {
      font-size: 1.2rem;
      color: #212529;
    }
    #decrypted-content {
      display: none;
      width: 100%;
      max-width: 600px;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>
  <div id="loading">Memuat halaman...</div>
  <div id="decrypted-content"></div>

  <script>
    // Contoh ciphertext hasil encrypt halaman kontak dengan passphrase kosong
    const encryptedData = "U2FsdGVkX1+l7VnDyB5k8Lj4xa1h5RhZ8V2tCp4aNMN7csus3H2S6jLoGGqCgfbTG0q9v2PSaXi6C8T2LwYmMLtLf4mzLKv3zXUtRYZckdC28j+Fs+scKScLYojXukqGmRA0t1PYnp5Ud6Wfwd1evCqzAVtcYFVZd5F6m8LHT+LoCehIVoK8eEn4v/YXg9kDuK4pThXqw6RsIxDiyD7lqHcQLO6r3czt5gYK+bMZgZ7jOSwUQn7pTqC4vMUl7nT2OHHmfBd8KN7T3m7QjX77JP4yY8rPxjQkxW8vnxBjsXqoiU2JySp2L3mDjvIzmGbLm0/0igfHZbC1DQqok2/txuQ==";

    function decryptWithPassphrase(ciphertext, passphrase='') {
      try {
        const decrypted = CryptoJS.AES.decrypt(ciphertext, passphrase);
        const result = decrypted.toString(CryptoJS.enc.Utf8);
        return result;
      } catch (e) {
        return null;
      }
    }

    window.onload = function() {
      const html = decryptWithPassphrase(encryptedData, '');

      if(html && html.length > 0) {
        document.getElementById('loading').style.display = 'none';
        const container = document.getElementById('decrypted-content');
        container.style.display = 'block';
        container.innerHTML = html;
        addDependencies();
      } else {
        document.getElementById('loading').textContent = 'Gagal memuat konten.';
      }
    };

    function addDependencies() {
      // Bootstrap CSS
      const linkBootstrap = document.createElement('link');
      linkBootstrap.rel = 'stylesheet';
      linkBootstrap.href = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css';
      document.head.appendChild(linkBootstrap);

      // FontAwesome CSS
      const linkFA = document.createElement('link');
      linkFA.rel = 'stylesheet';
      linkFA.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css';
      document.head.appendChild(linkFA);

      // jQuery
      const scriptJQ = document.createElement('script');
      scriptJQ.src = 'https://code.jquery.com/jquery-3.6.0.min.js';
      document.body.appendChild(scriptJQ);

      // Bootstrap Bundle JS
      const scriptBS = document.createElement('script');
      scriptBS.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js';
      document.body.appendChild(scriptBS);

      // EmailJS SDK
      const scriptEmailJS = document.createElement('script');
      scriptEmailJS.src = 'https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js';
      document.body.appendChild(scriptEmailJS);

      scriptEmailJS.onload = () => {
        emailjs.init('p3Z-M_PBNyMnwSvgW'); // public key
        scriptJQ.onload = () => {
          $('#contactForm').on('submit', function(e) {
            e.preventDefault();
            emailjs.sendForm('service_oa6m0ze', 'template_j6824jx', this)
              .then(() => {
                alert('Pesan berhasil dikirim!');
                this.reset();
              }, (error) => {
                alert('Gagal mengirim pesan, coba lagi nanti.');
                console.error('FAILED...', error);
              });
          });
        };
      };
    }
  </script>
</body>
</html>
